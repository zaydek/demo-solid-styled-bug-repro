/* This is a heavy-handed CSS reset because supporting touch devices is hard.
This CSS resets adds hi-DPI antialiasing and disables selection universally, and
disables font-size scaling and body scrolling on touch devices. */

body {
	/* Enable hi-DPI antialiasing */
	-webkit-font-smoothing: antialiased;
	-moz-osx-font-smoothing: grayscale;
	/* Disable selection */
	-webkit-user-select: none;
	user-select: none;
}
/* COMPAT/iOS/Safari */
@media (hover: none) { body {
	/* Disable font-size scaling */
	-webkit-text-size-adjust: 100%;
	/* Disable body scrolling */
	position: fixed;
	inset: 0;
	overflow: hidden;
} }

/**************************************/

/* Use margin to create insets */
.main-content {
	margin-top: var(--fixed-navbar-height);
}
:root:has(.sidesheet:is(.is-open, .is-expanded)) .fixed-navbar { margin-right: 384px; }
:root:has(.sidesheet:is(.is-open, .is-expanded)) .main-content {
	margin-right: calc(384px + var(--sheet-draggable-size));
}
/* COMPAT/iOS: Add scrolling. Use @media
because body scrolling works for
non-touch devices */
@media (hover: none) { .main-content {
	height: var(--screen-h);
	overflow-y: auto;
} }
/* Add scrolling (bottomsheet) */
.bottomsheet .aside-content {
	height: calc(
		var(--screen-h) -
		var(--sheet-draggable-size) -
		1px -
		var(--sheet-draggable-size)
	);
	overflow-y: auto;
}
/* Add scrolling (sidesheet) */
.sidesheet .aside-content {
	height: var(--screen-h);
	overflow-y: auto;

	/* Flow */
	display: flex;
	flex-direction: column;
}
/* Prevent body scrolling when
bottomsheet=open OR sidesheet=expanded */
@media (hover: hover) { :root:has(:is(.bottomsheet.is-open, .sidesheet.is-expanded)) body {
	overflow-y: hidden;
} }
