.bottomsheet-backdrop {
	position: fixed;
	z-index: 90;
	inset: 0;
}
.bottomsheet-backdrop:has(+ .bottomsheet.is-closed) { background-color: transparent; }
.bottomsheet-backdrop:has(+ .bottomsheet.is-open)   { background-color: hsl(0 0% 0% / 25%); }
.bottomsheet-backdrop:has(+ .bottomsheet.is-transition) {
	transition: background-color 600ms cubic-bezier(0, 1, 0.25, 1);
}

/**************************************/

:root { --bottomsheet-draggable-height: 40px; }
.bottomsheet {
	/* Runtime values */
	--bottomsheet-screen-y: var(--screen-y);
	--bottomsheet-translate-y: 0px;
	--bottomsheet-drag-translate-y: 0px;

	position: fixed;
	z-index: 100;
	inset: 0 0 auto 0;
	min-height: calc(100vh - var(--bottomsheet-draggable-height) * 2);
	border-radius: calc(var(--bottomsheet-draggable-height) / 2) calc(var(--bottomsheet-draggable-height) / 2) 0 0;
	background-color: var(--card-color);
	box-shadow: 0 0 0 4px hsl(0 0% 0% / 25%);
	transform: translateY(calc(var(--bottomsheet-screen-y) + var(--bottomsheet-translate-y) + var(--bottomsheet-drag-translate-y)));
}
.bottomsheet.is-closed {
	--bottomsheet-screen-y: var(--screen-y);
	--bottomsheet-translate-y: -1 * var(--bottomsheet-draggable-height);
}
.bottomsheet.is-open   {
	--bottomsheet-screen-y: 0px;
	--bottomsheet-translate-y: var(--bottomsheet-draggable-height);
}
.bottomsheet.is-transition {
	transition: transform 600ms cubic-bezier(0, 1, 0.25, 1);
}

/**************************************/

.bottomsheet-draggable {
	height: var(--bottomsheet-draggable-height);

	/* CSS Grid */
	display: grid;
	place-items: center;

	cursor: grab;
}
:root:has(.bottomsheet-draggable:active) {
	cursor: grab;
}

/**************************************/

.bottomsheet-drag-indicator {
	height: 4px;
	aspect-ratio: 12;
	border-radius: var(--full);
	background-color: hsl(0 0% 50%);
}
.bottomsheet-draggable:active .bottomsheet-drag-indicator {
	background-color: hsl(0 0% 25%);
}

/**************************************/

/* COMPAT/Safari: Safari doesnâ€™t disable
 * inert unless there is some CSS
 * listening to the presence of the
 * property */
.bottomsheet-content[inert] { content: ""; }
.bottomsheet-content {
	height: calc(
		var(--screen-y) -
		var(--bottomsheet-draggable-height) - /* .bottomsheet-backdrop */
		1px -                                 /* <hr> */
		var(--bottomsheet-draggable-height)
	);
	overflow-y: auto;
}
